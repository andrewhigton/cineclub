{"ast":null,"code":"var _jsxFileName = \"/Users/andrewhigton/Documents/code/typescript/cineclub/client/src/components/auth/Login.tsx\";\nimport React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { login } from '../../actions/auth';\nimport './auth.css';\n\nconst Login = _ref => {\n  let {\n    login,\n    isAuthenticated\n  } = _ref;\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const {\n    email,\n    password\n  } = formData;\n\n  const onChange = e => setFormData({ ...formData,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = async e => {\n    e.preventDefault();\n\n    if (email === '' || password === '') {\n      alert('Please fill in your email and password');\n      return;\n    }\n\n    login(email, password);\n  };\n\n  if (isAuthenticated) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/film/dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 14\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auth-pages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, \"Sign in to your account\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    action: \"create-profile.html\",\n    onSubmit: e => onSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Email Address\",\n    name: \"email\",\n    value: email,\n    onChange: e => onChange(e),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    value: password,\n    onChange: e => onChange(e) // minlength=\"4\"\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn\",\n    value: \"Login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"Don't have an account? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 34\n    }\n  }, \"Sign Up\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \"Example account: email: andrewcineclub@test.com password: 1234\"));\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated\n});\n\nexport default connect(mapStateToProps, {\n  login\n})(Login);","map":{"version":3,"sources":["/Users/andrewhigton/Documents/code/typescript/cineclub/client/src/components/auth/Login.tsx"],"names":["React","useState","Link","Redirect","connect","login","Login","isAuthenticated","formData","setFormData","email","password","onChange","e","target","name","value","onSubmit","preventDefault","alert","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, FormEvent } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { login } from '../../actions/auth';\nimport './auth.css';\n\ninterface LoginProps {\n\tlogin: (email, password) => void;\n\tisAuthenticated: boolean;\n}\n\nconst Login:React.FC<LoginProps> = ( { login, isAuthenticated } ) => {\n\t\n\n\tconst  [formData, setFormData] = useState<{\n\t\temail: string | number,\n\t\tpassword: string | number | undefined,\n\t}>({\n\t\temail: '',\n\t\tpassword: ''\n\t});\n\n\tconst { email, password } = formData;\n\n\tconst onChange = e => setFormData\n\t({...formData, [e.target.name]: e.target.value });\n\n\tconst onSubmit = async (e: FormEvent<HTMLFormElement>)  => {  \n\t\te.preventDefault(); \n\t\t\n\t\tif(email === '' || password === '') {\n\t\t\talert('Please fill in your email and password');\n\t\t\treturn;\n\t\t}\n\t\tlogin(email, password)\n\t\t}\n\n\t\tif (isAuthenticated) {\n\t\t    \n\t\t    return <Redirect to='/film/dashboard' />;\n\t\t  }\n\n\t\n\treturn <div className='auth-pages'>\n\t\t      <p className=\"lead\">Sign in to your account</p>\n\t\t      <form className=\"form\" action=\"create-profile.html\" onSubmit={e => onSubmit(e)}>\n\t\t        <div className=\"form-group\">\n\t\t          <input \n\t\t          type=\"email\" \n\t\t          placeholder=\"Email Address\" \n\t\t          name=\"email\" \n\t\t          value={email}\n\t\t          onChange={e => onChange(e)} \n\t\t          required />\n\t\t        </div>\n\t\t        <div className=\"form-group\">\n\t\t          <input\n\t\t            type=\"password\"\n\t\t            placeholder=\"Password\"\n\t\t            name=\"password\"\n\t\t            value={password}\n\t\t          \tonChange={e => onChange(e)} \n\t\t            // minlength=\"4\"\n\t\t          />\n\t\t        </div>\n\t\t        <input type=\"submit\" className=\"btn\" value=\"Login\" />\n\t\t      </form>\n\t\t      <p className=\"lead\">\n\t\t        Don't have an account? <Link to=\"/register\">Sign Up</Link>\n\t\t      </p>\n\t\t      <p>Example account: email: andrewcineclub@test.com password: 1234</p>\n\t\t   </div>\n}\n\nconst mapStateToProps = state => ({\n\tisAuthenticated: state.auth.isAuthenticated\n})\n\nexport default connect(mapStateToProps, {login} )(Login);"]},"metadata":{},"sourceType":"module"}